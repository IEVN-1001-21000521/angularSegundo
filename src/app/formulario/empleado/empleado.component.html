<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">Registro de Empleados</h1>

  <!-- Formulario de Registro -->
  <div class="flex">
    <div class="mr-8">
      <div class="mb-4">
        <label class="block mb-2" for="matricula">Matrícula:</label>
        <input [(ngModel)]="matricula" id="matricula" class="border border-gray-300 rounded p-2 w-full" />
      </div>

      <div class="mb-4">
        <label class="block mb-2" for="nombre">Nombre:</label>
        <input [(ngModel)]="nombre" id="nombre" class="border border-gray-300 rounded p-2 w-full" />
      </div>

      <div class="mb-4">
        <label class="block mb-2" for="correo">Correo:</label>
        <input [(ngModel)]="correo" id="correo" class="border border-gray-300 rounded p-2 w-full" />
      </div>

      <div class="mb-4">
        <label class="block mb-2" for="edad">Edad:</label>
        <input [(ngModel)]="edad" type="number" id="edad" class="border border-gray-300 rounded p-2 w-full" />
      </div>

      <div class="mb-4">
        <label class="block mb-2" for="horasTrabajadas">Horas Trabajadas:</label>
        <input [(ngModel)]="horasTrabajadas" type="number" id="horasTrabajadas" class="border border-gray-300 rounded p-2 w-full" />
      </div>

      <!-- Mostrar el botón de Aceptar Cambios solo si se está modificando -->
      <button *ngIf="modoEdicion" (click)="registrarEmpleado()" class="py-2 px-3 border border-black rounded w-full mb-4">Aceptar Cambios</button>

      <!-- Botón para registrar empleado -->
      <button *ngIf="!modoEdicion" (click)="registrarEmpleado()" class="py-2 px-3 border border-black rounded w-full mb-4">Registrar</button>
    </div>

    <!-- Tabla de Empleados -->
    <div>
      <button (click)="imprimirTabla()" class="py-2 px-3 border border-black rounded mb-4">Imprimir Tabla</button>

      <div *ngIf="mostrarTabla" class="mt-4">
        <h3 class="font-bold">Empleados Registrados:</h3>

        <!-- Campo de búsqueda visible solo cuando la tabla está activa -->
        <div class="mb-4">
          <label class="block mb-2" for="filtroMatricula">Buscar por Matrícula:</label>
          <input [(ngModel)]="filtroMatricula" id="filtroMatricula" class="border border-gray-300 rounded p-2 w-full" placeholder="Ingrese matrícula a buscar" />
        </div>

        <table class="table-auto border-collapse border border-gray-300 w-full">
          <thead>
            <tr>
              <th class="border border-gray-300 px-4 py-2">Matrícula</th>
              <th class="border border-gray-300 px-4 py-2">Nombre</th>
              <th class="border border-gray-300 px-4 py-2">Correo</th>
              <th class="border border-gray-300 px-4 py-2">Edad</th>
              <th class="border border-gray-300 px-4 py-2">Horas Trabajadas</th>
              <th class="border border-gray-300 px-4 py-2">Horas Extras</th>
              <th class="border border-gray-300 px-4 py-2">Pago Total</th>
              <th class="border border-gray-300 px-4 py-2">Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let empleado of filtrarEmpleados()">
              <td class="border border-gray-300 px-4 py-2">{{ empleado.matricula }}</td>
              <td class="border border-gray-300 px-4 py-2">{{ empleado.nombre }}</td>
              <td class="border border-gray-300 px-4 py-2">{{ empleado.correo }}</td>
              <td class="border border-gray-300 px-4 py-2">{{ empleado.edad }}</td>
              <td class="border border-gray-300 px-4 py-2">{{ empleado.horasTrabajadas }}</td>
              <td class="border border-gray-300 px-4 py-2">{{ empleado.horasExtras }}</td>
              <td class="border border-gray-300 px-4 py-2">{{ empleado.pagoTotal }}</td>
              <td class="border border-gray-300 px-4 py-2">
                <button (click)="iniciarModificacion(empleado.matricula)" class="bg-blue-500 text-white px-2 py-1 rounded">Modificar</button>
                <button (click)="eliminarEmpleado(empleado.matricula)" class="bg-red-500 text-white px-2 py-1 rounded ml-2">Eliminar</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
